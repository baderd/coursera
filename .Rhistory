installed.packages('texliveonfly')
install.packages('texliveonfly')
library(data.table)
library(R.utils)
noaa_file= 'repData_peer2/noaa_stormdata.csv.bz2'
foo= fread(noaa_file, header=T, sep=',', stringsAsFactors = F,  drop='REMARKS', colClasses=rep(NULL,36))
foo= fread(paste("bunzip2 -c",noaa_file), header=T, sep=',', stringsAsFactors = F, drop='REMARKS', colClasses=rep(NULL,36))
foo= fread(paste("bunzip2 -c",noaa_file), header=T, sep=',', stringsAsFactors = F, drop='REMARKS', colClasses=colc)
colc= c(rep(NULL,35),'character',NULL)
foo= fread(paste("bunzip2 -c",noaa_file), header=T, sep=',', stringsAsFactors = F, drop='REMARKS', colClasses=colc)
noaa_table
noaa_table= as.data.table(read.csv(noaa_file))
noaa_table= noaa_table[,-REMARKS]
noaa_table
noaa_table= as.data.table(read.csv(noaa_file))
noaa_table[,setdiff(.SD,REMARKS)]
noaa_table
saveRDS(noaa_table, file="repData_peer2/noaa_table.RDS")
noaa_table[,setdiff(.SD,REMARKS)]
noaa_table[,setdiff(1:37,36), with=F]
noaa_table=noaa_table[,setdiff(1:37,36), with=F]
noaa_table
saveRDS(noaa_table, file="repData_peer2/noaa_table.RDS")
table(noaa_table$STATE__)
table(noaa_table$STATEOFFIC)
noaa_table
dmg_noaa_table= noaa_table[, list(EVTYPE, FATALITIES, INJURIES, PROPDMG, CROPDMG)]
dmg_noaa_table
noaa_file= 'repData_peer2/noaa_stormdata.csv.bz2'
exists(noaa_file)
noaa_table= as.data.table(read.csv(noaa_file))[,setdiff(1:37,colidx_remarks), with=F]
!exists(noaa_file)
list.files('repData_peer2/')
download.file("http://d396qusza40orc.cloudfront.net/repdata%2Fdata%2FStormData.csv.bz2",
destfile= noaa_file
)
exists(noaa_file)
file.exists(noaa_file)
library(data.table)
!file.exists(noaa_bak)
noaa_file= 'repData_peer2/noaa_stormdata.csv.bz2'
noaa_bak= "repData_peer2/noaa_table.RDS"
file.exists(noaa_bak)
!file.exists(noaa_bak)
noaa_file= 'repData_peer2/noaa_stormdata.csv.bz2'
noaa_link= "http://d396qusza40orc.cloudfront.net/repdata%2Fdata%2FStormData.csv.bz2"
noaa_file= 'repData_peer2/noaa_stormdata.csv.bz2'
noaa_bak= "repData_peer2/noaa_table.RDS"
if(!file.exists(noaa_bak)){
download.file(noaa_link, destfile= noaa_file)
colidx_remarks= 36
noaa_table= as.data.table(read.csv(noaa_file))[,setdiff(1:37,colidx_remarks), with=F]
saveRDS(noaa_table, file=noaa_bak)
}else{
noaa_table= readRDS(noaa_bak)
}
tryCatch(
download.file(noaa_link, destfile= noaa_file, mode='wb'),
error= funcion(e){
message(e)
},finally ={
message('Could not download file.')
}
)
tryCatch({
download.file(noaa_link, destfile= noaa_file, mode='wb')
},
error= funcion(e){
message(e)
},finally ={
message('Could not download file.')
}
)
tryCatch({
download.file(noaa_link, destfile= noaa_file, mode='wb')
}, finally ={
message('Could not download file.')
}
)
tryCatch({
download.file(noaa_link, destfile= noaa_file, mode='wb')
}, error=function(e){
message(e)
}, finally ={
message('Could not download file.')
}
)
library(RCurl)
install.packages('RCurl')
library(RCurl)
library(RCurl)
exit
quit()
